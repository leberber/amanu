<div class="relative w-full h-full" style="background-image: url('assets/legume.png'); background-size: cover; background-position: center; background-repeat: no-repeat;">
    <p-toast></p-toast>
    <!-- Form Container with Shadow -->
    <form class="w-full h-full" [formGroup]="loginForm" (ngSubmit)="onLogin()">
        <div class="relative flex justify-content-center align-items-center w-full h-full">
            <div class="surface-section w-11 md:w-6 lg:w-4 p-6 md:p-8 shadow-1 border-round ">
                <div class="mb-5">
                    <div class="text-900 text-3xl font-medium mb-3">Welcome Back</div>
                    <span class="text-600 font-medium mr-2">Don't have an account?</span>
                    <a class="font-medium no-underline text-blue-500 cursor-pointer">Create today!</a>
                </div>
                <div>
                    <!-- Email field (unchanged) -->
                    <label for="email2" class="block text-900 font-medium mb-2">Email</label>
                    <input id="email2" type="text" formControlName="email" placeholder="Email address" pInputText 
                        class="w-full mb-1 p-3" [class.ng-invalid]="loginForm.controls['email'].touched && loginForm.controls['email'].invalid"
                        [class.ng-dirty]="loginForm.controls['email'].touched && loginForm.controls['email'].invalid">
                    
                    <ng-container *ngIf="loginForm.controls['email'].touched && loginForm.controls['email'].invalid">
                        <small class="form-errors p-error block mt-1 mb-2">
                            <ng-container *ngIf="loginForm.controls['email'].errors?.['required']">
                                Email is required
                            </ng-container>
                            <ng-container *ngIf="loginForm.controls['email'].errors?.['email']">
                                Please enter a valid email address
                            </ng-container>
                        </small>
                    </ng-container>

                        <!-- Password field -->
                        <label for="password2" class="block text-900 font-medium mb-2">Password</label>
                        <input id="password2" type="password" formControlName="password" placeholder="Password" pInputText 
                            class="w-full mb-1 p-3" 
                            [class.ng-invalid]="loginForm.controls['password'].touched && loginForm.controls['password'].invalid"
                            [class.ng-dirty]="loginForm.controls['password'].touched && loginForm.controls['password'].invalid">

                        <ng-container *ngIf="loginForm.controls['password'].touched && loginForm.controls['password'].invalid">
                            <small class="form-errors p-error block mt-1 mb-2">
                                <ng-container *ngIf="loginForm.controls['password'].errors?.['required']">
                                    Password is required
                                </ng-container>
                                <ng-container *ngIf="loginForm.controls['password'].errors?.['minlength']">
                                    Password must be at least 8 characters
                                </ng-container>
                                <ng-container *ngIf="loginForm.controls['password'].errors?.['pattern']">
                                    Password must contain at least one uppercase letter and one number
                                </ng-container>
                            </small>
                        </ng-container>


                    <!-- FIXED BUTTON IMPLEMENTATION -->
                    <button type="submit" 
                            pButton 
                            [disabled]="loginForm.invalid" 
                            label="Sign In" 
                            icon="pi pi-user" 
                            class="w-full p-3 mt-5">
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>