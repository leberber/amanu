<!-- frontend/src/app/pages/admin/admin-add-category/admin-add-category.component.html -->
<p-dialog 
  [(visible)]="visible" 
  [modal]="true" 
  [closable]="true"
  [draggable]="false"
  [resizable]="false"
  header="Add New Category"
  [style]="{width: '500px'}"
  (onHide)="onCancel()"
>
  <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()">
    
    <!-- Category Name -->
    <div class="field mb-4">
      <label for="name" class="block font-medium mb-2">Category Name *</label>
      <input 
        id="name"
        type="text" 
        pInputText 
        formControlName="name"
        placeholder="Enter category name"
        class="w-full"
        [class.ng-invalid]="categoryForm.get('name')?.invalid && categoryForm.get('name')?.touched"
      />
      <small 
        *ngIf="categoryForm.get('name')?.invalid && categoryForm.get('name')?.touched" 
        class="p-error block mt-1"
      >
        Category name is required
      </small>
    </div>

    <!-- Description -->
    <div class="field mb-4">
      <label for="description" class="block font-medium mb-2">Description</label>
      <textarea 
        id="description"
        pTextarea 
        formControlName="description"
        placeholder="Enter category description"
        class="w-full"
        rows="3"
      ></textarea>
    </div>

    <!-- Image URL -->
    <div class="field mb-4">
      <label for="image_url" class="block font-medium mb-2">Image URL</label>
      <input 
        id="image_url"
        type="url" 
        pInputText 
        formControlName="image_url"
        placeholder="https://example.com/image.jpg"
        class="w-full"
      />
    </div>

    <!-- Active Checkbox -->
    <div class="field mb-4">
      <div class="flex align-items-center">
        <p-checkbox 
          formControlName="is_active" 
          binary="true" 
          inputId="is_active"
        />
        <label for="is_active" class="ml-2">Active Category</label>
      </div>
      <small class="text-color-secondary">Inactive categories won't appear in product forms</small>
    </div>

  </form>
  
  <!-- Dialog Footer -->
  <ng-template pTemplate="footer">
    <div class="flex justify-content-end gap-2">
      <p-button 
        label="Cancel" 
        severity="secondary" 
        (onClick)="onCancel()"
      />
      <p-button 
        label="Add Category" 
        [loading]="loading()"
        [disabled]="categoryForm.invalid"
        (onClick)="onSubmit()"
      />
    </div>
  </ng-template>
</p-dialog>

<p-toast />